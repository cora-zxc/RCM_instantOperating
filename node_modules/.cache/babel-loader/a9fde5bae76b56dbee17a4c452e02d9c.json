{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport G6 from '@antv/g6';\nimport { defaultLabelCfg, Margin, defaultTitleLabelCfg } from './contants';\nimport { getConfig, getContentAndStyle } from './utils';\nexport var registerNodes = function () {\n  G6.registerNode('card', {\n    draw: function (cfg, group) {\n      var _a;\n\n      if (cfg === void 0) {\n        cfg = {};\n      }\n\n      var size = cfg.size || [100, 30];\n      var height = 0; // 统计容器总高度，动态设置\n\n      if (typeof size === 'number') size = [size, size];\n\n      var style = __assign({\n        radius: 2,\n        fill: '#fff'\n      }, cfg.style);\n\n      var color = style.stroke || cfg.color || '#5B8FF9';\n      var radius = style.radius; // node box\n\n      var shape = group.addShape('rect', {\n        attrs: __assign({\n          x: 0,\n          y: 0,\n          width: size[0],\n          height: size[1],\n          stroke: color\n        }, style),\n        name: 'main-box',\n        draggable: true\n      }); // node title\n\n      var titleTextShape;\n\n      if (cfg.title) {\n        var _b = getContentAndStyle(cfg.title),\n            text = _b.text,\n            _c = _b.style,\n            titleStyle = _c === void 0 ? cfg.titleStyle : _c;\n\n        titleTextShape = group.addShape('text', {\n          attrs: __assign(__assign({\n            textBaseline: 'top',\n            x: Margin,\n            y: 2,\n            text: text\n          }, defaultTitleLabelCfg), getConfig(titleStyle, group)),\n          name: 'title'\n        });\n      }\n\n      var titleBox = titleTextShape ? titleTextShape.getBBox() : {\n        height: size[1] / 2\n      }; // title rect\n\n      var titleRectShape = group.addShape('rect', {\n        attrs: {\n          x: 0,\n          y: 0,\n          width: size[0],\n          height: titleBox.height + 4,\n          fill: color,\n          radius: [radius, radius, 0, 0]\n        },\n        name: 'title-rect',\n        draggable: true\n      });\n      titleTextShape === null || titleTextShape === void 0 ? void 0 : titleTextShape.toFront(); // collapse marker\n\n      var markerShape;\n\n      if (cfg === null || cfg === void 0 ? void 0 : cfg.children) {\n        markerShape = group.addShape('marker', {\n          attrs: {\n            x: size[0] / 2,\n            y: 0,\n            r: 6,\n            cursor: 'pointer',\n            symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,\n            stroke: color,\n            lineWidth: 1,\n            fill: '#fff'\n          },\n          name: 'collapse-icon'\n        });\n      }\n\n      var titleRectBoxHeight = titleRectShape.getBBox().height;\n      height += titleRectBoxHeight; // body\n\n      var bodyShape;\n\n      if (cfg.body) {\n        var _d = getContentAndStyle(cfg.body),\n            text = _d.text,\n            _e = _d.style,\n            bodyStyle = _e === void 0 ? cfg.bodyStyle : _e;\n\n        bodyShape = group.addShape('text', {\n          attrs: __assign(__assign({\n            textBaseline: 'top',\n            x: Margin,\n            y: height + Margin,\n            text: text\n          }, defaultLabelCfg), getConfig(bodyStyle, group)),\n          name: \"body\"\n        });\n        height += bodyShape.getBBox().height;\n      } // footer\n\n\n      var footerTextShape;\n\n      if (cfg.footer) {\n        if (bodyShape) {\n          height += Margin;\n        }\n\n        var _f = getContentAndStyle(cfg.footer),\n            labelText = _f.text,\n            _g = _f.style,\n            labelStyle = _g === void 0 ? cfg.footerStyle : _g;\n\n        footerTextShape = group.addShape('text', {\n          attrs: __assign(__assign({\n            textBaseline: 'top',\n            x: Margin,\n            y: height + Margin,\n            text: labelText\n          }, defaultLabelCfg), getConfig(labelStyle, group)),\n          name: \"footer-label\"\n        });\n\n        var _h = footerTextShape.getBBox(),\n            width = _h.width,\n            contentHeight = _h.height;\n\n        var footerValueHeight = 0;\n\n        if (typeof cfg.footer === 'object' && ((_a = cfg.footer) === null || _a === void 0 ? void 0 : _a.value)) {\n          var _j = getContentAndStyle({\n            content: cfg.footer.value,\n            style: cfg.footer.valueStyle\n          }),\n              valueText = _j.text,\n              _k = _j.style,\n              valueStyle = _k === void 0 ? cfg.footerValueStyle || cfg.footerStyle : _k;\n\n          var valueTextShape = group.addShape('text', {\n            attrs: __assign(__assign({\n              textBaseline: 'top',\n              x: width + Margin * 2,\n              y: height + Margin,\n              text: valueText\n            }, defaultLabelCfg), getConfig(valueStyle, group)),\n            name: \"footer-value\"\n          });\n          var valueHeight = valueTextShape.getBBox().height;\n          footerValueHeight = valueHeight;\n        }\n\n        height += Math.max(contentHeight, footerValueHeight);\n      } // 调整容器宽高\n\n\n      if (bodyShape) {\n        var desTextShapeBBox = bodyShape.getBBox();\n        var width = size[0] > desTextShapeBBox.width + 16 ? size[0] : desTextShapeBBox.width + 16;\n        shape.attr({\n          width: width,\n          height: height + 16\n        });\n        titleRectShape === null || titleRectShape === void 0 ? void 0 : titleRectShape.attr('width', width);\n        markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr({\n          x: width,\n          y: (height + 16) / 2\n        });\n      }\n\n      return shape;\n    },\n    update: undefined\n  }, 'single-node');\n};","map":{"version":3,"sources":["/Users/tim/Documents/RCM_instantOperating/node_modules/@ant-design/charts/es/graphs/customItems.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","G6","defaultLabelCfg","Margin","defaultTitleLabelCfg","getConfig","getContentAndStyle","registerNodes","registerNode","draw","cfg","group","_a","size","height","style","radius","fill","color","stroke","shape","addShape","attrs","x","y","width","name","draggable","titleTextShape","title","_b","text","_c","titleStyle","textBaseline","titleBox","getBBox","titleRectShape","toFront","markerShape","children","r","cursor","symbol","collapsed","Marker","expand","collapse","lineWidth","titleRectBoxHeight","bodyShape","body","_d","_e","bodyStyle","footerTextShape","footer","_f","labelText","_g","labelStyle","footerStyle","_h","contentHeight","footerValueHeight","value","_j","content","valueStyle","valueText","_k","footerValueStyle","valueTextShape","valueHeight","Math","max","desTextShapeBBox","attr","update","undefined"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6';\nimport { defaultLabelCfg, Margin, defaultTitleLabelCfg } from './contants';\nimport { getConfig, getContentAndStyle } from './utils';\nexport var registerNodes = function () {\n    G6.registerNode('card', {\n        draw: function (cfg, group) {\n            var _a;\n            if (cfg === void 0) { cfg = {}; }\n            var size = cfg.size || [100, 30];\n            var height = 0; // 统计容器总高度，动态设置\n            if (typeof size === 'number')\n                size = [size, size];\n            var style = __assign({ radius: 2, fill: '#fff' }, cfg.style);\n            var color = style.stroke || cfg.color || '#5B8FF9';\n            var radius = style.radius;\n            // node box\n            var shape = group.addShape('rect', {\n                attrs: __assign({ x: 0, y: 0, width: size[0], height: size[1], stroke: color }, style),\n                name: 'main-box',\n                draggable: true,\n            });\n            // node title\n            var titleTextShape;\n            if (cfg.title) {\n                var _b = getContentAndStyle(cfg.title), text = _b.text, _c = _b.style, titleStyle = _c === void 0 ? cfg.titleStyle : _c;\n                titleTextShape = group.addShape('text', {\n                    attrs: __assign(__assign({ textBaseline: 'top', x: Margin, y: 2, text: text }, defaultTitleLabelCfg), getConfig(titleStyle, group)),\n                    name: 'title',\n                });\n            }\n            var titleBox = titleTextShape ? titleTextShape.getBBox() : { height: size[1] / 2 };\n            // title rect\n            var titleRectShape = group.addShape('rect', {\n                attrs: {\n                    x: 0,\n                    y: 0,\n                    width: size[0],\n                    height: titleBox.height + 4,\n                    fill: color,\n                    radius: [radius, radius, 0, 0],\n                },\n                name: 'title-rect',\n                draggable: true,\n            });\n            titleTextShape === null || titleTextShape === void 0 ? void 0 : titleTextShape.toFront();\n            // collapse marker\n            var markerShape;\n            if (cfg === null || cfg === void 0 ? void 0 : cfg.children) {\n                markerShape = group.addShape('marker', {\n                    attrs: {\n                        x: size[0] / 2,\n                        y: 0,\n                        r: 6,\n                        cursor: 'pointer',\n                        symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,\n                        stroke: color,\n                        lineWidth: 1,\n                        fill: '#fff',\n                    },\n                    name: 'collapse-icon',\n                });\n            }\n            var titleRectBoxHeight = titleRectShape.getBBox().height;\n            height += titleRectBoxHeight;\n            // body\n            var bodyShape;\n            if (cfg.body) {\n                var _d = getContentAndStyle(cfg.body), text = _d.text, _e = _d.style, bodyStyle = _e === void 0 ? cfg.bodyStyle : _e;\n                bodyShape = group.addShape('text', {\n                    attrs: __assign(__assign({ textBaseline: 'top', x: Margin, y: height + Margin, text: text }, defaultLabelCfg), getConfig(bodyStyle, group)),\n                    name: \"body\",\n                });\n                height += bodyShape.getBBox().height;\n            }\n            // footer\n            var footerTextShape;\n            if (cfg.footer) {\n                if (bodyShape) {\n                    height += Margin;\n                }\n                var _f = getContentAndStyle(cfg.footer), labelText = _f.text, _g = _f.style, labelStyle = _g === void 0 ? cfg.footerStyle : _g;\n                footerTextShape = group.addShape('text', {\n                    attrs: __assign(__assign({ textBaseline: 'top', x: Margin, y: height + Margin, text: labelText }, defaultLabelCfg), getConfig(labelStyle, group)),\n                    name: \"footer-label\",\n                });\n                var _h = footerTextShape.getBBox(), width = _h.width, contentHeight = _h.height;\n                var footerValueHeight = 0;\n                if (typeof cfg.footer === 'object' && ((_a = cfg.footer) === null || _a === void 0 ? void 0 : _a.value)) {\n                    var _j = getContentAndStyle({\n                        content: cfg.footer.value,\n                        style: cfg.footer.valueStyle,\n                    }), valueText = _j.text, _k = _j.style, valueStyle = _k === void 0 ? cfg.footerValueStyle || cfg.footerStyle : _k;\n                    var valueTextShape = group.addShape('text', {\n                        attrs: __assign(__assign({ textBaseline: 'top', x: width + Margin * 2, y: height + Margin, text: valueText }, defaultLabelCfg), getConfig(valueStyle, group)),\n                        name: \"footer-value\",\n                    });\n                    var valueHeight = valueTextShape.getBBox().height;\n                    footerValueHeight = valueHeight;\n                }\n                height += Math.max(contentHeight, footerValueHeight);\n            }\n            // 调整容器宽高\n            if (bodyShape) {\n                var desTextShapeBBox = bodyShape.getBBox();\n                var width = size[0] > desTextShapeBBox.width + 16 ? size[0] : desTextShapeBBox.width + 16;\n                shape.attr({ width: width, height: height + 16 });\n                titleRectShape === null || titleRectShape === void 0 ? void 0 : titleRectShape.attr('width', width);\n                markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr({\n                    x: width,\n                    y: (height + 16) / 2,\n                });\n            }\n            return shape;\n        },\n        update: undefined,\n    }, 'single-node');\n};\n"]},"metadata":{},"sourceType":"module"}